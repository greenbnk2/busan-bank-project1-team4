<!-- cs/_sidebar.html -->
<th:block th:fragment="sidebarFragment">

    <!-- Ïó¨Í∏∞ÏÑúÎäî breadcrumb ÍπåÏßÄÎßå Í∞ôÏù¥ Ï≤òÎ¶¨ÌïúÎã§Í≥† Í∞ÄÏ†ï -->
    <div class="container">
        <div class="breadcrumb">
            <span th:each="crumb, stat : ${breadcrumb}">
                <!-- routePath ÏûàÏúºÎ©¥ ÎßÅÌÅ¨ -->
                <a th:if="${crumb.routePath != null}"
                   th:href="@{${crumb.routePath}}"
                   th:text="${crumb.categoryName}"></a>

                <!-- routePath ÏóÜÏúºÎ©¥ ÌÖçÏä§Ìä∏ -->
                <span th:if="${crumb.routePath == null}"
                      th:text="${crumb.categoryName}"></span>

                <!-- ÎßàÏßÄÎßâÏù¥ ÏïÑÎãàÎ©¥ > -->
                <span th:if="${!stat.last}"> &gt; </span>
            </span>
        </div>
    </div>

    <div class="content-wrapper">
        <aside class="sidebar">
            <!-- 1Ï∞® Ïπ¥ÌÖåÍ≥†Î¶¨ Ï†úÎ™© -->
            <h3 th:text="${rootCategory != null} ? ${rootCategory.categoryName} : 'Í≥†Í∞ùÏÑºÌÑ∞'">
                Í≥†Í∞ùÏÑºÌÑ∞
            </h3>

            <nav>
                <div class="sidebar-menu"
                     th:each="d2 : ${depth2Menu}"
                     th:classappend="${activeDepth2Id} == ${d2.categoryId} ? ' open'">

                    <!-- 2Ï∞®: ÎßÅÌÅ¨Í∞Ä ÏûàÎäî Í≤ΩÏö∞ -->
                    <a th:if="${d2.routePath != null}"
                       th:href="@{${d2.routePath}}"
                       th:classappend="${currentCategoryId} == ${d2.categoryId} ? ' is-active'">
                        <span th:text="${d2.categoryName}">Î©îÎâ¥</span>
                    </a>

                    <!-- 2Ï∞®: ÎßÅÌÅ¨Í∞Ä ÏóÜÎäî Í≤ΩÏö∞ ÌÖçÏä§Ìä∏Îßå -->
                    <span th:if="${d2.routePath == null}"
                          th:text="${d2.categoryName}"></span>

                    <!-- 3Ï∞®: ÏûàÏúºÎ©¥ side-submenuÎ°ú Í∞êÏã∏Í∏∞ -->
                    <div class="side-submenu"
                         th:if="${depth3Map[d2.categoryId] != null
                             and #lists.size(depth3Map[d2.categoryId]) > 0}">
                        <a th:each="d3 : ${depth3Map[d2.categoryId]}"
                           th:href="@{${d3.routePath}}"
                           th:classappend="${currentCategoryId} == ${d3.categoryId} ? ' is-active'"
                           th:text="${d3.categoryName}"></a>
                    </div>
                </div>
            </nav>

            <div class="sidebar-icons">
                <div><a th:href="@{/cs/customerSupport/login/talkCounsel}">
                    <span>üí¨</span>
                    <p>TalkÏÉÅÎã¥</p>
                </a></div>
                <div><a th:href="@{/cs/customerSupport/login/onlineCounsel}">
                    <span>‚úâÔ∏è</span>
                    <p>Î©îÏùºÏÉÅÎã¥</p>
                </a></div>
                <div><a th:href="@{/cs/customerSupport/faq}">
                    <span>üìÑ</span>
                    <p>FAQ</p>
                </a></div>
            </div>
        </aside>
</th:block>